[General]
gameName=stardewvalley
modid=1536
version=1.15.0.0
newestVersion=1.15.0.0
category="9,"
nexusFileStatus=1
installationFile=MailFrameworkMod-v1.15.0-1536-1-15-0-1675813265.zip
repository=Nexus
ignoredVersion=
comments=
notes=
nexusDescription="[size=3][b]Objective:[/b][/size]\n<br />Simplify the send of mail to the player, giving more control over when and what should be received.\n<br />Also giving more options not possible just editing the data files, like changing the text color and background of the letter at will.\n<br />\n<br />[color=#ff0000][b][size=4]Compatibility Warning:[/size][/b][/color]\n<br />This mod is incompatible with [color=#e06666]FeTK [/color]and [color=#e06666]Tool-Upgrade Delivery Service[/color] that depends on it. They are both broken and unsupported for more than a year, even some vanilla letter won't work with it. (Adventure Guild letters)\n<br />So you should [color=#e06666]remove both before installing[/color], or your custom mails won't work properly.\n<br />Fortunately, there is an alternative to Tool-Upgrade Delivery Services, [url=https://www.nexusmods.com/stardewvalley/mods/7842]Mail Services Mod[/url], that does the same and much more.\n<br />[size=3][b]\n<br />Installation:[/b][/size]\n<br />[list=1]\n<br />[*][url=https://github.com/Pathoschild/SMAPI/releases]Install the latest version of SMAPI[/url].\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/1536/]Unzip the MailFrameworkMod[/url] into /Stardew Valley/Mods.\n<br />[/list]\n<br />[size=3][b]Change Log:[/b][/size]\n<br />\n<br />1.15.0\n<br />[list]\n<br />[*]New API Interface for SMAPI mods.\n<br />[*]API method to load content pack folder from inside your SMAPI mod.\n<br />[*]API method to load a letter.\n<br />[*]API method to get a letter data.\n<br />[*]API method to get the mail data string of a letter.\n<br />[*]Fix mailbox not working properly when an error happened when closing the letter.\n<br />[*]Better log on those errors.\n<br />[/list]1.14.0\n<br />[list]\n<br />[*]More changes for compatibility with SMAPI 4\n<br />[*]New attribute in the letter class to set the ITranslationHelper. \n<br />[*]Content pack don't need to change anything, but this change should avoid some rare i18n issues.\n<br />[*]Mods that use MFM through code can update their implementation.\n<br />[/list]1.13.0\n<br />[list]\n<br />[*]Make the mod compatible with SMAPI 4.\n<br />[*]New property for Deepest mine level.\n<br />[*]New property for current money.\n<br />[*]New property for total money earned.\n<br />[*]New console command to force mailbox to update to help modders debug.\n<br />[*]Letter collection menu now show custom close button too.\n<br />[/list]1.12.2\n<br />[list]\n<br />[*]Make the mod compatible with 1.5.5, without forcing SMAPI to convert it.\n<br />[*]Should fix some problems with attachment not working on Unix OS.\n<br />[*]New property for House Upgrade Level.\n<br />[/list]1.12.1\n<br />[list]\n<br />[*]Fixed error when Expanded Preconditions Utility was not loaded.\n<br />[/list]1.12.0\n<br />[list]\n<br />[*]New properties to support the use of [url=https://www.nexusmods.com/stardewvalley/mods/6529]Expanded Preconditions[/url]﻿\n<br />[*]New property to make it possible to add text besides the letter id to the player's MailReceived list.\n<br />[/list]1.11.0\n<br />[list]\n<br />[*]Support to DGA(Dynamic Game Assets) as attachments.\n<br />[/list][spoiler]1.10.2\n<br />[list]\n<br />[*]Fix to cooking recipes names in English showing as null, when added by Json Assets.\n<br />[/list]1.10.1\n<br />[list]\n<br />[*]Fix to Auto Open letters with no text breaking the mod when there is i18n files.\n<br />[*]Fix to letter from content pack not loading after one collection condition warning.\n<br />[*]Adds new collection requirement type for crafting recipes.\n<br />[/list]1.10.0\n<br />[list]\n<br />[*]All vanilla tools are now supported.\n<br />[*]Support to vanilla Slingshots as weapons. If you use the index or the name of an slingshot it will be properly created as such.\n<br />[*]New \"Auto Open\" property, for when you want to use MFM conditions to save a letter id as read without writing an actual letter.\n<br />[/list]1.9.2\n<br />[list]\n<br />[*]Optimization for assets loading from content packs.\n<br />[*]Fix to callback of letters not being called if a menu was opened to add an item to the inventory.\n<br />[/list]1.9.1\n<br />[list]\n<br />[*]Fix a bug where MFM letter would not be opened and removed from the box for the current day if you were holding an object when clicking the mailbox.\n<br />[/list]1.9.0\n<br />[list]\n<br />[*]New property for letter created with SMAPI to add items dynamically to the letter.\n<br />[*]New method to remove letters from the mailbox.\n<br />[/list]1.8.1\n<br />[list]\n<br />[*]Fix to avoid conflict mails in local coop.\n<br />[*]Fix to rare situations the mod would stop work if a letter menu was not properly closed by the game.\n<br />[/list]1.8.0\n<br />[list]\n<br />[*]Support for Furniture, Weapons and Boots as attachments.\n<br />[*]New property to set the upgrade level of attached tools.\n<br />[/list]1.7.0\n<br />[list]\n<br />[*]Support for Rings as attachments.\n<br />[*]New conditions for recipes.\n<br />[*]New property for background customization with content packs.\n<br />[*]Support to Close Button customization with content pack and code.\n<br />[/list]1.6.0\n<br />[list]\n<br />[*]Support to i18n in content packs.\n<br />[*]New conditions properties for buildings in the farm.\n<br />[*]New conditions properties for mail received. (this is used for quest flags)\n<br />[*]New conditions properties for events.\n<br />[*]New conditions list for collections menu items.\n<br />[*]New conditions list for game stats.\n<br />[*]New property for friendship status for the conditions list for NPC friendship.\n<br />[*]New random functionality for when Group Ids collide. \n<br />[/list]1.5.1\n<br />[list]\n<br />[*]Fix to letters with no group ids being grouped together.\n<br />[/list]1.5.0\n<br />[list]\n<br />[*]Letter will now be shown in the collection menu if an Title is defined. Custom textures and color will also show in the collection menu.\n<br />[*]Letter now can have a group id. Letter with the same group id are never delivered in the same day.\n<br />[*]New condition for content packs: \"RandomChance\".\n<br />[*]BigObject is now called BigCraftable, like in the game code.\n<br />[*]Fix of typos in the template.\n<br />[/list]1.4.1\n<br />[list]\n<br />[*]Adds support to Stardew Valley 1.4.0\n<br />[*]Adds Title property for Letters to be shown in the collection menu. Not fully implemented yet, but modders can start to set it.\n<br />[/list]1.4.0\n<br />[list]\n<br />[*]Adds an content pack support for modders to add custom letters, with configurations to all features this framework provides, and with mostly common used delivery conditions.\n<br />[*]Fix controllers not working to get attached items.\n<br />[*]Fix to properly show attachments if the mail has more than one item attached.\n<br />[*]Fix to not let the letter close if your inventory is full and a menu is opened to manage it.\n<br />[*]Fix to not adding an stack of items to the mail even when configured to.\n<br />[*]Adds support to SMAPI 3\n<br />[/list]1.3.4\n<br />[list]\n<br />[*]Adds support to Stardew Valley 1.3.36\n<br />[/list]1.3.3\n<br />[list]\n<br />[*]Adds support to SMAPI 3\n<br />[/list]1.3.2\n<br />[list]\n<br />[*]Adds support to Stardew Valley 1.3.32\n<br />[/list]1.3.1\n<br />[list]\n<br />[*]Adds commands to remove and add to the player received mail list.\n<br />[/list]1.3.0-beta.6\n<br />[list]\n<br />[*]Adds support to crafting recipes\n<br />[*]Adds support to custom background\n<br />[*]Adds support to custom text color\n<br />[*]New way to open custom letter, now using harmony\n<br />[*]Config file to enable old way of opening custom letters.\n<br />[/list]1.2.0\n<br />[list]\n<br />[*]Support to i18n recipes.\n<br />[*]Fix to the mod not working properly after returning to title menu.\n<br />[*]Fix to no mail being delivered if the condition of a letter threw an exception.\n<br />[/list]1.1.0\n<br />[list]\n<br />[*]Fix to receiving \"tax passed\" mail when sleeping and quit the game without having read a custom mail.\n<br />[*]Custom mails can have recipes.\n<br />[*]This version is not compatible with the older one. Mods need to be updated to use this version.\n<br />[/list]1.0.0 \n<br />[list]\n<br />[*]Add custom mails\n<br />[*]Custom mails can have items.\n<br />[/list][/spoiler]\n<br />[b][size=3]For Modders to use content pack:[/size][/b][list]\n<br />[*]There is a template inside the mod folder with commented instructions on what each property do.\n<br />[*]All letter features but the conditions and callback are the same as coding with the framework.\n<br />[*]Conditions are limited to the ones implemented, and the callback always set the letter id as received. If you need advanced conditions you still should code them. Or you can politely suggest me to add a condition to the content pack, if its something that makes sense, I might add it.\n<br />[*]Here is the template as added in the mod file:\n<br />[/list][spoiler][code][\n<br />    {\n<br />        \"Id\": \"MyMod.MyMailId\", // Letter id. It's important to be an unique string to avoid conflicts. Also it shouldn't have space characters.\n<br />        \"GroupId\": \"MyMod.MyGroupId\", // Letter group id. Letters with the same group id are never delivered in the same day. Letters registered first have priority, unless the group id ends with \".Random\", in that case, a random letter will be chosen. Default is null.\n<br />        \"Title\": \"My Letter Title\", // Letter title. Will be shown in the collections menu. Set it null or remove the line if you don't want the letter to appear in the collection. If an translation file is provide, you should put a translation key here, but you can still leave if null for no Title.\n<br />        \"Text\": \"Dear @^This is my custom mail.\", // Text of the letter. You can use @ to put the players name and ^ for line breaks. You can also use the base game commands to add money, items and stuff. If an translation file is provide, you should put a translation key here.\n<br />        \"Attachments\": [ // List of attachments. Remove the property to not attach items to the mail.\n<br />            {\n<br />                \"Type\": \"Object\", // [Object|BigCraftable|Tool|Ring|Furniture|Weapon|Boots|DGA] Required. The type of item that will be attached. If not provided the item will be ignored.\n<br />                \"Name\": \"Cave Carrot\", // Used to find the item index. That's required if using custom objects like Json Assets ones. Should be the full DGA ID is using DGA. If not provided, the index will be used. Default is null.\n<br />                \"Index\": 78, // The index of an item. If no name is provided or an item for the name is not found, the index is used. Otherwise, the attachment is ignored. Ignored if the type is DGA.\n<br />                \"Stack\": 1 // The stack value of the item to be delivered. Used only for Objects and BigCraftable. Default is 1;\n<br />            },\n<br />            {\n<br />                \"Type\": \"Tool\", // When using tool, only supported ones can be attached.\n<br />                \"Name\": \"Axe\", // [Axe|Hoe|Watering Can|Pickaxe|Scythe|Golden Scythe|Milk Pail|Shears|Fishing Rod|Pan|Return Scepter] Required for tools. The name of the supported tool. Otherwise, the attachment is ignored.\n<br />                \"UpgradeLevel\": 1 // The upgrade level of the tool. Regular tools: 0 = stone, 1 = cooper, 2 = steel, 3 = gold, 4 = iridium. Fishing Rod: 0 = Bamboo Pole, 1 = Training Rod, 2 = Fiberglass Rod, 3 = Iridium Rod. Ignored for the other types. Default is 0.\n<br />            },\n<br />            {\n<br />                \"Type\": \"DGA\", //DGA item\n<br />                \"Name\": \"spacechase0.DynamicGameAssets.Example/My Custom Item\", // use the full DGA ID. Required.\n<br />                \"Stack\": 10 // The stack value of the item to be delivered. Used only for Objects and BigCraftable. Default is 1;\n<br />            }\n<br />        ],\n<br />        \"Recipe\": \"Recipe Name\", // Remove the line if you don't want to attach a recipe to the mail. It will only work if you have no other attachments to the mail. For DGA recipes only use the ID part (leave away the ModID)\n<br />        \"AdditionalMailReceived\": [\"MyMod.AnotherMailId\", \"VANILLA_FLAG\"], // Use this to add additional text to the MailReceived list. Can be useful to add vanilla flags or other MFM letter ids.\n<br />        \"LetterBG\": \"CustomLetterBG.png\", // Name of the file in your content pack that has the custom letter background to use. It should follow the same structure of the game LetterBG file . WhichBG will be relative to this file for this letter. If null or removed the mod will use the game LetterBG.\n<br />        \"WhichBG\": 0, //The id of the letter background. 0 = classic, 1 = notepad, 2 = pyramids\n<br />        \"TextColor\": -1, //Remove this line to use the default color. -1 = Dark Red, 0 = Black, 1 = Sky Blue, 2 = Red, 3 = Blue Violet, 4 = White, 5 = Orange Red, 6 = Lime Green, 7 = Cyan, 8 = Darkest Gray\n<br />        \"UpperRightCloseButton\": \"CustomCloseButton.png\", // Name of the file in your content pack that has the custom close button to use. It should be 12 x 12 . If null or removed it will use the default button.\n<br />        \"Repeatable\": false, // If true the mod won't check it the letter Id has already been delivered. Default is false.\n<br />        \"AutoOpen\": false, // If true the mod will open the letter at the begin of the day after the conditions are met. The letter id will be marked as read and if there is a recipe set, it will be learned. Since the letter will never show, visual properties like title, text, background... will never be used, as well as the attachments.\n<br />        // CONDITIONS FOR DELIVERY\n<br />        //Below are conditions for the delivery. Remove any of the lines if you don't want to check that condition.\n<br />        \"Date\": \"10 spring Y1\", // Must be that date or after it. The format is \"[1-28] [spring|summer|fall|winter] Y[1-999]\".\n<br />        \"Days\": [7,14,21,28], // Must be one of the days in the list.\n<br />        \"Seasons\": [\"fall\"], // Must be one of the seasons in the list, seasons should be lower case.\n<br />        \"Weather\": \"sunny\", // Must be that game weather. The format is \"[sunny|rainy]\".\n<br />        \"HouseUpgradeLevel\": 2, // House upgrade level must be equal or higher what is defined. 0 - starter house(no reason to use this, just remove the line), 1 - kitchen, 2 - second floor, 3 - cellar.\n<br />        \"DeepestMineLevel\": 80, // Deepest mine level must be equal or higher what is defined. 120 is the last level of the mine, 121 is the first level of the skull cavern.\n<br />        \"CurrentMoney\": 10000, // Current money must be equal or higher what is defined.\n<br />        \"TotalMoneyEarned\": 500000, // Total money earned must be equal or higher what is defined.\n<br />        \"FriendshipConditions\": // Each NPC of the list must check all conditions.\n<br />        [\n<br />            {\n<br />                \"NpcName\": \"Lewis\", //Name of the NPC. Can use custom NPCs.\n<br />                \"FriendshipLevel\": 8, // NPC must have a friendship heart level equal or higher what is defined. Default is 0.\n<br />                \"FriendshipStatus\": [\"Dating\",\"Engaged\",\"Married\"] // [Friendly|Dating|Engaged|Married|Divorced]  Require the NPC friendship status to be one from the list. Remove to not require a status.\n<br />            }\n<br />        ],\n<br />        \"SkillConditions\": // Each skill of the list must have a level equal or higher what is defined. Can use all coded skills in the vanilla game, including Luck. Can't use custom skills.\n<br />        [\n<br />            { \"SkillName\": \"Farming\", \"SkillLevel\": 1 }\n<br />        ],\n<br />        \"StatsConditions\": // Each stats of the list must have a value equal or higher what is defined. Choose a StatsName or a StatsLabel\n<br />        [\n<br />            {\n<br />                \"StatsName\": \"CheeseMade\", //[SeedsSown|ItemsShipped|ItemsCooked|ItemsCrafted|ChickenEggsLayed|DuckEggsLayed|CowMilkProduced|GoatMilkProduced|RabbitWoolProduced|SheepWoolProduced|CheeseMade|GoatCheeseMade|TrufflesFound|StoneGathered|RocksCrushed|DirtHoed|GiftsGiven|TimesUnconscious|AverageBedtime|TimesFished|FishCaught|BouldersCracked|StumpsChopped|StepsTaken|MonstersKilled|DiamondsFound|PrismaticShardsFound|OtherPreciousGemsFound|CaveCarrotsFound|CopperFound|IronFound|CoalFound|CoinsFound|GoldFound|IridiumFound|BarsSmelted|BeveragesMade|PreservesMade|PiecesOfTrashRecycled|MysticStonesCrushed|DaysPlayed|WeedsEliminated|SticksChopped|NotesFound|QuestsCompleted|StarLevelCropsShipped|CropsShipped|ItemsForaged|SlimesKilled|GeodesCracked|GoodFriends|IndividualMoneyEarned] Default is null.\n<br />                \"StatsLabel\": \"Name\", // [exMemoriesWiped|childrenTurnedToDoves|trashCansChecked|boatRidesToIsland|beachFarmSpawns|hardModeMonstersKilled|timesEnchanted] This are the current game stats that are identified by label, if more are added, they should also be supported. It will also identify custom stats labels added by other mods. Default is null.\n<br />                \"Amount\": 1 // The amount the status should be equal or greater for the condition to be valid.\n<br />            }\n<br />        ],\n<br />        \"CollectionConditions\": // Each collection condition of the list must have a value equal or higher than the defined amount.\n<br />        [\n<br />            {\n<br />                \"Collection\": \"Minerals\", //[Shipped|Fish|Artifacts|Minerals|Cooking|Crafting] Required.\n<br />                \"Name\": \"\", //The name of the object or recipe for 'Crafting' collection. For object, if a name is given, it will look for that name instead of using the index. If the name is not found, the letter is ignored. Default is null.\n<br />                \"Index\": 72, // The index of the object. Will be overridden if a Name is given, so you can remove the line in that case.\n<br />                \"Amount\": 10 // The amount the object in the collection should be equal or greater for the condition to be valid.\n<br />            }\n<br />        ],\n<br />        \"ExpandedPrecondition\": \"d Mon Fri/HasItem Pink Cake/!JojaMartComplete/!w rainy\", //Needs the Expanded Preconditions Utility mod. Sees that mod documentation to see how this works. If the mod is not loaded, the letter will not be delivered.\n<br />        \"ExpandedPreconditions\": [ \"!z spring/t 600 1000\", \"f Linus 1000/w rainy/z spring\", \"f Linus 2500\" ], //Needs the Expanded Preconditions Utility mod. Sees that mod documentation to see how this works. If the mod is not loaded, the letter will not be delivered.\n<br />        \"RandomChance\": 0.25, // The mod will check if a random number from 0 to 1 is bellow the given number. The same save, on the same day for the same letter will always have the same result to avoid cheating.\n<br />        \"Buildings\": [\"Coop\",\"Big Coop\",\"Deluxe Coop\"], // Require one of the buildings to be currently constructed in the farm.\n<br />        \"RequireAllBuildings\": false, // If true, require that all the buildings in the \"Buildings\" list to be currently constructed in the farm. Default is false.\n<br />        \"MailReceived\": [\"jojaVault\",\"ccVault\"], // Require one of the mails to have been received. The game list also contain others thing that are not mail, like community center flags.\n<br />        \"RequireAllMailReceived\": false, // If true, require that all mails in the \"MailReceived\" list to have been received. Default is false.\n<br />        \"MailNotReceived\": [\"jojaVault\",\"ccVault\"], // Require the mails to have not been received. The game list also contain others thing that are not mail, like community center flags.\n<br />        \"EventsSeen\": [4,32423], // Require one of the events to have been seen by the player.\n<br />        \"RequireAllEventsSeen\": false, // If true, require that all the events in the \"EventsSeen\" list to have been seen by the player. Default is false.\n<br />        \"EventsNotSeen\": [4,32423], // Require the events to have not been seen by the player.\n<br />        \"RecipeKnown\": [\"Pizza\",\"Survival Burger\"], // Require one of the recipes to have been learned by the player.\n<br />        \"RequireAllRecipeKnown\": false, // If true, require that all the recipes in the \"RecipeKnown\" list to have been learned by the player. Default is false.\n<br />        \"RecipeNotKnown\": [\"Wild Bait\"] // Require the recipes to have not been learned by the player.\n<br />    }\n<br />][/spoiler]\n<br />[/code]\n<br />[size=3][b]For Modder to use the API:[/b][/size]\n<br />[list]\n<br />[*]Copy [url=https://github.com/Digus/StardewValleyMods/blob/master/MailFrameworkMod/Api/IMailFrameworkModApi.cs]IMailFrameworkModApi [/url]﻿interface with the method you want to use from MFM interface.\n<br />[*]Copy [url=https://github.com/Digus/StardewValleyMods/blob/master/MailFrameworkMod/Api/ILetter.cs]ILetter [/url]﻿if one of the methods need it.\n<br />[*]Methods:\n<br />[list]\n<br />[*] [b]RegisterContentPack [/b]- Use [i]Helper.ContentPacks.CreateTemporary[/i] to load a folder from your mod that contain the mail.json and possible i18n folder for translations. Manifest is not needed since you can use that method parameter.\n<br />[*] [b]RegisterLetter [/b]-  Fill an ILetter with the properties you need. A condition is also required to register an letter. A callback is advisable, to at least add the letter ID as received. See examples bellow, on the \"[b]For Modder to code with MFM dependency[/b]\" session.\n<br />[*] [b]GetLetter[/b]-  You will get the ILetter object for the letter ID.\n<br />[*] [b]GetMailDataString[/b]- You will get the mail data string for the letter ID. Mail data string is basically the translated text plus the translated title with a [#] separator.\n<br />[/list][/list]\n<br />[size=3][b]For Modder to code with MFM dependency:[/b][/size]\n<br />[list]\n<br />[*]Reference the MailFrameworkMod.dll on your SMAPI project.\n<br />[list]\n<br />[*]You register your Letter using MailDao.SaveLetter(Letter)\n<br />[*]At the begin of each day the mod will check for Letters that have reached its condition for delivery and add them to the mailbox.\n<br />[*]This Letters will be opened first when the player check the mailbox.\n<br />[*]When the Letter is opened, it is removed from the mailbox.\n<br />[*]The callback condition of the letter is them called.\n<br />[*]At the end of the day Letter still on the mailbox will be removed, so they are not saved by the game.\n<br />[/list][*]You can think of this mod as an repository for your letters. It works best if you load all your letter when the game loads.\n<br />[/list]\n<br />\n<br />[size=3][b]Exemples:\n<br />\n<br />[spoiler][/b][/size]\n<br />[b]Loading a simple Letter that will show for the player if not read before, and will not be be delivered again after being opened by the player:[/b]\n<br />[code]MailDao.SaveLetter(\n<br />    new Letter(\n<br />         \"LetterUniqueId\"\n<br />         ,\"Letter custom text.\"\n<br />         ,(l)=&gt;!Game1.player.mailReceived.Contains(l.Id)\n<br />           ,(l)=&gt;Game1.player.mailReceived.Add(l.Id)\n<br />    )\n<br />);\n<br />[/code]\n<br />\n<br />[b]Loading a simple Letter as before, but with 5 Emerald annexed:[/b]\n<br />[code]MailDao.SaveLetter(\n<br />   new Letter(\n<br />    \"LetterUniqueId\"\n<br />    ,\"Letter custom text.\"\n<br />    ,new List&lt;Item&gt; { new StardewValley.Object(60,5) }\n<br />    ,(l)=&gt;!Game1.player.mailReceived.Contains(l.Id)\n<br />    ,(l)=&gt;Game1.player.mailReceived.Add(l.Id)\n<br />   )\n<br />);\n<br />[/code]\n<br />The player will not receive the same item, but a copy returned from the getOne() method.\n<br />\n<br />[b]Loading a simple Letter that will teach a cooking recipe, it will be delivered if the player doesn't know the recipe. The mod automatically teaches the recipes when the player loads, no need for a callback here:[/b][code]\n<br />MailDao.SaveLetter(\n<br />   new Letter(\n<br />    \"LetterUniqueId\"\n<br />    , \"Letter custom text.\"\n<br />    , \"RecipeUniqueName\"\n<br />    , (l) =&gt; !Game1.player.cookingRecipes.ContainsKey(l.Recipe)\n<br />   )\n<br />);[/code]\n<br />The \"RecipeUniqueName\" must be the same as stored on \"Data//CookingRecipes\" or \"Data//CraftingRecipes\".\n<br />\n<br />[b]Loading a simple Letter with different text and background:[/b]\n<br />[code]MailDao.SaveLetter(\n<br />   new Letter(\n<br />    \"LetterUniqueId\"\n<br />    ,\"Letter custom text.\"\n<br />    ,(l)=&gt;!Game1.player.mailReceived.Contains(l.Id)\n<br />    ,(l)=&gt;Game1.player.mailReceived.Add(l.Id)\n<br />    1\n<br />   ){TextColor=8}\n<br />);\n<br />[/code]\n<br />\n<br />[b]Loading a simple Letter with custom background:[/b]\n<br />[code]MailDao.SaveLetter(\n<br />   new Letter(\n<br />    \"LetterUniqueId\"\n<br />    ,\"Letter custom text.\"\n<br />    ,(l)=&gt;!Game1.player.mailReceived.Contains(l.Id)\n<br />    ,Game1.player.mailReceived.Add(l.Id)\n<br />    1\n<br />   ){\n<br />    LetterTexture=helper.Content.Load&lt;Texture2D&gt;(\"CustomLetterBG.png\")\n<br />    ,TextColor=4\n<br />   }\n<br />);\n<br />[/code]Where CustomLetterBG.png is a image file that follows the same structure as \"LooseSprites//letterBG\"\n<br />\n<br />[b]Loading a simple Letter with translation for text and title.[/b]\n<br />[code]MailDao.SaveLetter(\n<br />    new Letter(\n<br />         \"LetterUniqueId\"\n<br />         ,\"myletter.translation.key.text\"\n<br />         ,(l)=&gt;!Game1.player.mailReceived.Contains(l.Id)\n<br />           ,(l)=&gt;Game1.player.mailReceived.Add(l.Id)\n<br />    ){\n<br />        ﻿Title = \"myletter.translation.key.title\",\n<br />        I18N = helper.Translation\n<br />    }\n<br />);\n<br />[/code]\n<br />[/spoiler]\n<br />\n<br />[b][size=3]My Other Mods:[/size][/b]\n<br />[list]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/1538]Animal Husbandry Mod[/url]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/2374]Water Retaining Field Mod[/url]﻿\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/2516]Custom Crystalarium Mod[/url]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/2594]Crop Transplant Mod[/url]﻿\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/2642]Custom Cask Mod[/url]﻿\n<br />[/list][list]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/4664/]Custom Kissing Mod[/url]\n<br />[/list][list]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/4711]Borderless Wood Floor Mod[/url]\n<br />[/list][list]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/4992]Custom Producer Mod[/url]﻿\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/7842/]Mail Services Mod[/url]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/8178/]Arcane Table Mod[/url]﻿\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/8292/]Gem Lamp Posts Mod[/url]\n<br />[*][url=https://www.nexusmods.com/stardewvalley/mods/8413]Advanced Casks Mod[/url]﻿\n<br />[/list]"
url=
hasCustomURL=false
lastNexusQuery=2023-12-22T18:02:43Z
lastNexusUpdate=2023-12-22T18:02:43Z
nexusLastModified=2023-02-07T23:41:05Z
nexusCategory=9
converted=false
validated=false
color=@Variant(\0\0\0\x43\0\xff\xff\0\0\0\0\0\0\0\0)
tracked=0
endorsed=0

[installedFiles]
size=1
1\modid=1536
1\fileid=66339
